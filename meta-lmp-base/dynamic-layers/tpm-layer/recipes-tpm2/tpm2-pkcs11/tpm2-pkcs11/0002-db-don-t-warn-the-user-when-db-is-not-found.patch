From f584251d2ba5225bb415750ec10f22b60ff9dfce Mon Sep 17 00:00:00 2001
From: Ricardo Salveti <ricardo@foundries.io>
Date: Sat, 11 Mar 2023 13:02:38 -0300
Subject: [PATCH 2/3] db: don't warn the user when db is not found

Expected code path when db needs to be initialized (first run).

Upstream-Status: Inappropriate [lmp specific]

Signed-off-by: Ricardo Salveti <ricardo@foundries.io>
Signed-off-by: Jose Quaresma <jose.quaresma@foundries.io>
---
 src/lib/db.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/lib/db.c b/src/lib/db.c
index 8304ec4..8fa9e95 100644
--- a/src/lib/db.c
+++ b/src/lib/db.c
@@ -1480,7 +1480,7 @@ static CK_RV db_get_version(sqlite3 *db, unsigned *version) {
     sqlite3_stmt *stmt;
     int rc = sqlite3_prepare_v2(db, sql, -1, &stmt, NULL);
     if (rc != SQLITE_OK) {
-        LOGW("Cannot prepare version query: %s\n", sqlite3_errmsg(global.db));
+        LOGV("Cannot prepare version query: %s\n", sqlite3_errmsg(global.db));
         *version = DB_EMPTY;
         return CKR_OK;
     }
-- 
2.50.1

